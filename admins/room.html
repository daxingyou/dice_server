<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>房间和牌型设置</title>

  <link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="font-awesome/css/font-awesome.min.css" />
  <link rel="stylesheet" type="text/css" href="css/local.css" />

  <link type="text/css" rel="stylesheet" href="css/jsgrid.min.css" />
  <link type="text/css" rel="stylesheet" href="css/jsgrid-theme.min.css" />


  <script type="text/javascript" src="js/jquery-1.10.2.min.js"></script>
  <script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="js/jsgrid/jsgrid.js"></script>
  <script type="text/javascript" src="js/jsgrid/i18n/jsgrid-zh-cn.js"></script>

  <script type="text/javascript" src="js/client.js"></script>
  <script type="text/javascript" src="js/room_api.js"></script>

  <script type="text/javascript">
   $(document).ready(function(){
       room_init();
   });

  </script>

<style>
  .form-group{
    margin-left: 50px;
  }
</style>
</head>

<body>
  <div id="wrapper">
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
        <a class="navbar-brand" href="main.html">Admin Panel</a>
      </div>
      <div class="collapse navbar-collapse navbar-ex1-collapse">
        <ul class="nav navbar-nav side-nav">
          <li><a href="main.html"><i class="fa fa-bullseye"></i> 首 页</a></li>
          <li class="active"><a href="room.html"><i class="fa fa-tasks"></i> 房间和牌局设置</a></li>
          <li><a href="store.html"><i class="fa fa-globe"></i> 商 城 设 置</a></li>
          <li><a href="task.html"><i class="fa fa-list-ol"></i> 任 务 设 置</a></li>
          <li><a href="gift.html"><i class="fa fa-gift"></i> 奖品设置</a></li>
          <li><a href="settings.html"><i class="fa fa-table"></i> 系统公告和招商设置</a></li>
          <!--<li><a href="activity.html"><i class="fa fa-table"></i> 活动设置</a></li>--!>
          <li><a href="userconfig.html"><i class="fa fa-table"></i> 用户管理和设置</a></li>
          <li><a href="feedback.html"><i class="fa fa-table"></i> 留言和招商</a></li>
          <li><a href="query_deal.html"><i class="fa fa-table"></i>充值转账查询</a></li>
          <li><a href="dealer.html"><i class="fa fa-table"></i>代理查询</a></li>
        </ul>
      </div>
    </nav>
    <div id="page-wrapper">
      <div class='row'>
        <div class='col-lg-6'>
          <form role="form">
            <div class="form-group">
              <table class="table table-striped" id="cost_table">

              </table>
            </div>
          </form>
        </div>
      </div>

      <hr/>

        <div class='row'>
        <div class='col-lg-6'>
          <form role="form">
            <div class="form-group">
                <table class="table table-striped" id="px_table">
                </table>
            </div>
          </form>
        </div>
      </div>
      <hr>


    </div>
  </div>
<script type="text/javascript">
  $(document).ready(function(){
  //找到所有td节点
  var tds = $("td");
  //给所有的td节点增加点击事件
  tds.dblclick(tdclick);
});
function tdclick(){
  var clickfunction = this;
  //0,获取当前的td节点
  var td = $(this);
  //1,取出当前td中的文本内容保存起来
  var text = $(this).text();
  //2，清空td里边内同
  td.html("");
  //3,建立一个文本框，也就是建一个input节点
  var input = $("<input>");
  //4,设置文本框中值是保存起来的文本内容
  input.attr("value",text);
  //4.5让文本框可以相应键盘按下的事件
  input.keyup(function(event){
    //记牌器当前用户按下的键值
    var myEvent = event || window.event;//获取不同浏览器中的event对象
    var kcode = myEvent.keyCode;
    //判断是否是回车键按下
    if(kcode == 13){
      var inputnode = $(this);
      //获取当前文本框的内容
      var inputext = inputnode.val();
      //清空td里边的内容,然后将内容填充到里边
      var tdNode = inputnode.parent();
      tdNode.html(inputext);
      //让td重新拥有点击事件
      tdNode.click(tdclick);
    }
  }).blur(function(){
      var inputnode = $(this);
      //获取当前文本框的内容
      var inputext = inputnode.val();
      //清空td里边的内容,然后将内容填充到里边
      var tdNode = inputnode.parent();
      tdNode.html(inputext);
      //让td重新拥有点击事件
      tdNode.click(tdclick);
    });
  //5，把文本框加入到td里边去
  td.append(input);
  //5.5让文本框里边的文章被高亮选中
  //需要将jquery的对象转换成dom对象
  var inputdom = input.get(0);
  inputdom.select();

  //6,需要清楚td上的点击事件
  td.unbind("click");
}

$("#add_tr").click(function(){
  var tr = "<tr><td>牌型1</td><td>100</td><td>100</td><td><a type='button' class='btn btn-default btn-xs del'>删除</a></td></tr>"
  $("#px_table").append(tr);
})
$("a.del").click(function(){
  $(this).parents("tr").remove();
})


</script>
</body>

</html>
